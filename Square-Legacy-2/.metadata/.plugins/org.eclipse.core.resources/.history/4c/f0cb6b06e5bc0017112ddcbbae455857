package com.IB.SL.graphics.UI.menu;

import com.IB.SL.Boot;
import com.IB.SL.graphics.AnimatedSprite;
import com.IB.SL.graphics.Screen;
import com.IB.SL.graphics.Sprite;
import com.IB.SL.graphics.SpriteSheet;
import com.IB.SL.graphics.UI.part.UI_Button;

public class MainMenu extends UI_Menu {

	public static SpriteSheet TitleCont = new SpriteSheet(new SpriteSheet("/Textures/sheets/01_GUI/Menu/menu_Main/ContinueGame.png", 111, 30), 0, 0, 1, 2, 111, 15);
	public transient  AnimatedSprite Title_Cont_anim = new AnimatedSprite(TitleCont, 1, 1, 1);
	
	public static SpriteSheet TitleChar = new SpriteSheet(new SpriteSheet("/Textures/sheets/01_GUI/Menu/menu_Main/Characters.png", 111, 30), 0, 0, 1, 2, 111, 15);
	public transient  AnimatedSprite Title_Char_anim = new AnimatedSprite(TitleChar, 1, 1, 1);

	UI_Button btn_Continue = new UI_Button(150, 128, Title_Cont_anim);
	UI_Button btn_Characters = new UI_Button(150, 148, Title_Char_anim);

	public int yOffset = 0;
	public boolean start_menu_anim = false;
	
	public MainMenu(int x, int y, Sprite bg) {
		this.bg = bg;
		init(x, y);
		ui.addUI(btn_Continue);
		ui.addUI(btn_Characters);
	}
	
	public void load(UI_Menu menu) {
		super.load(menu);
		suspend = this.SUS_ALL;
		start_menu_anim = true;
	}
	
	public void unload(UI_Menu menu) {
		super.unload(menu);
		suspend = this.SUS_NON;
		Boot.get().getPlayer().remove();
	}
	
	public void update() {
		if (btn_Continue.clicked) {
		Boot.get().getMenu().unload(Boot.get().getMenu().current);
		Boot.get().getLevel().add(Boot.get().getPlayer());
		}
		
		yOffset = (yOffset < 168) ? yOffset += 10 : 168;
	}
	
	public void render(Screen screen) {
		screen.renderAlphaSprite(bg, x, y - (168 - yOffset));
	}
	

}
